<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Main documentation &mdash; Geo_419b 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to Geo_419b’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Geo_419b
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Main documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#aux-documentation">_aux documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Geo_419b</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Main documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Geo_419b.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="main-documentation">
<h1>Main documentation<a class="headerlink" href="#main-documentation" title="Permalink to this headline"></a></h1>
<p>The functions of the main script.</p>
<span class="target" id="module-main"></span><dl class="py class">
<dt class="sig sig-object py" id="main.GeoFileHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">GeoFileHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_file_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#GeoFileHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.GeoFileHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to represent a folder with geo-files</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="main.GeoFileHandler.path">
<span class="sig-name descname"><span class="pre">path</span></span><a class="headerlink" href="#main.GeoFileHandler.path" title="Permalink to this definition"></a></dt>
<dd><p>path of the directory which contains the folder</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="main.GeoFileHandler.folder_name">
<span class="sig-name descname"><span class="pre">folder_name</span></span><a class="headerlink" href="#main.GeoFileHandler.folder_name" title="Permalink to this definition"></a></dt>
<dd><p>name of the folder</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="main.GeoFileHandler.geo_file_list">
<span class="sig-name descname"><span class="pre">geo_file_list</span></span><a class="headerlink" href="#main.GeoFileHandler.geo_file_list" title="Permalink to this definition"></a></dt>
<dd><p>a list of dict of {str, array[int]} which contains the absolute path and
extension [minX, minY, maxX, maxY] of a geo-file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="main.GeoFileHandler.file_list">
<span class="sig-name descname"><span class="pre">file_list</span></span><a class="headerlink" href="#main.GeoFileHandler.file_list" title="Permalink to this definition"></a></dt>
<dd><p>list of absolute paths of all files created from geo_file_list because
its needed gdal.BuildVRT() in method create_vrt</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="main.GeoFileHandler.extension">
<span class="sig-name descname"><span class="pre">extension</span></span><a class="headerlink" href="#main.GeoFileHandler.extension" title="Permalink to this definition"></a></dt>
<dd><p>array with [minX, minY, maxX, maxY] for all files</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>array of int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.GeoFileHandler.create_vrt">
<span class="sig-name descname"><span class="pre">create_vrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:</span> <span class="pre">25832'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#GeoFileHandler.create_vrt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.GeoFileHandler.create_vrt" title="Permalink to this definition"></a></dt>
<dd><p>creates a raster-mosaic using gdal.BuildVRT and export as GeoTiff in choosable crs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the GeoTiff</p></li>
<li><p><strong>epsg</strong> (<em>str</em><em>, </em><em>default=EPSG: 25832</em>) – EPSG-code of chosen crs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.auto_download">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">auto_download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">working_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_year_elev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month_start_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_year_elev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month_end_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_year_ortho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_year_ortho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dgm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">las</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ortho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_cor_dgm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg_mosaic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:</span> <span class="pre">25832'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_dgm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_dom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_ortho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#auto_download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.auto_download" title="Permalink to this definition"></a></dt>
<dd><p>The main function of the script, through the parameters of this function one can control the download of the
elevation data and orthophoto as well as the further processing of them (height correction and merging).
Depending on the parameters, the other functions of the script are called within this function to download the data
and perform the processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>working_dir</strong> (<em>str</em>) – Path to the directory where the output is to be stored.</p></li>
<li><p><strong>path_shp</strong> (<em>str</em>) – Path to the shapefile of the area of interest.</p></li>
<li><p><strong>start_year_elev</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – first year of interest for the elevation data</p></li>
<li><p><strong>month_start_year</strong> (<em>int</em><em>, </em><em>default=1</em>) – first month of interest for the elevation data</p></li>
<li><p><strong>end_year_elev</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – last year of interest for the elevation data</p></li>
<li><p><strong>month_end_year</strong> (<em>int</em><em>, </em><em>default=12</em>) – last month of interest for the elevation data</p></li>
<li><p><strong>start_year_ortho</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – first year of interest for the orthophotos</p></li>
<li><p><strong>end_year_ortho</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – last year of interest for the orthophotos</p></li>
<li><p><strong>dgm</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Are digital terrain models to be downloaded.</p></li>
<li><p><strong>dom</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Are digital surface models to be downloaded.</p></li>
<li><p><strong>las</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Should laser scanner data be downloaded.</p></li>
<li><p><strong>ortho</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Should orthophotos be downloaded.</p></li>
<li><p><strong>file_cor_dgm</strong> (<em>str</em><em> or </em><em>None</em>) – Path to the height correction file.</p></li>
<li><p><strong>epsg_mosaic</strong> (<em>str</em><em>, </em><em>default=EPSG: 25832</em>) – EPSG-code of the merged mosaics.</p></li>
<li><p><strong>merge_dgm</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Should the digital terrain models be merged.</p></li>
<li><p><strong>merge_dom</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Should the digital surface models be merged.</p></li>
<li><p><strong>merge_ortho</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Should the orthophotos be merged.</p></li>
<li><p><strong>delete</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Should the Zip files be deleted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.c_tile_number_df">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">c_tile_number_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geodf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#c_tile_number_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.c_tile_number_df" title="Permalink to this definition"></a></dt>
<dd><p>Creates and returns a dataframe that contains the tile numbers of a geodataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>geodf</strong> (<em>geopandas.geodataframe.GeoDataFrame</em>) – The Intersected geodataframe of the area of interest and the tile number geodataframe.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – That contains the tile numbers.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.core.frame.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.create_and_unzip">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">create_and_unzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip_files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#create_and_unzip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.create_and_unzip" title="Permalink to this definition"></a></dt>
<dd><p>Creates a folder (if it is not already existing) and unzip a list of ZIP files into it.
Before the function tries to unpacks a file, it checks whether this file actually exists in the working directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>folder_path</strong> (<em>str</em>) – Path to / name of the folder to create.</p></li>
<li><p><strong>zip_files</strong> (<em>list of str</em>) – A list containing the names of the ZIP files to be unzipped.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.create_elev_download_list">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">create_elev_download_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elev_aoi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month_start_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month_end_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_check</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#create_elev_download_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.create_elev_download_list" title="Permalink to this definition"></a></dt>
<dd><p>Creates a list that contains the part of the URL that is different for each data tile for all data tiles to be
downloaded and returns that list. If there is no data for the specified year, stop is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elev_aoi</strong> (<em>geopandas.geodataframe.GeoDataFrame</em>) – The Intersected geodataframe of the area of interest and the metadata geodataframe.</p></li>
<li><p><strong>year</strong> (<em>int</em>) – The year of interest or one of the years ot interest.</p></li>
<li><p><strong>start_year</strong> (<em>int</em>) – First year of interest.</p></li>
<li><p><strong>end_year</strong> (<em>int</em>) – Last year of interest.</p></li>
<li><p><strong>month_start_year</strong> (<em>int</em>) – First month of interest.</p></li>
<li><p><strong>month_end_year</strong> (<em>int</em>) – Last month of interest.</p></li>
<li><p><strong>additional_check</strong> (<em>str</em>) – Is this an additional check.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>elev_download_list</strong> – A list that contains the part of the URL that is different for each data tile for all data tiles to be
downloaded.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.create_geo_file_dic">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">create_geo_file_dic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#create_geo_file_dic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.create_geo_file_dic" title="Permalink to this definition"></a></dt>
<dd><p>calculate the geometric extension of a raster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<em>str</em>) – directory</p></li>
<li><p><strong>file</strong> (<em>str</em>) – name of th file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of {str: array[int]} with the path as str and an array with the geometric extension with
the following values [minX, minY, maxX, maxY]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.data_download">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">data_download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_to_download</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list_to_download</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_number_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#data_download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.data_download" title="Permalink to this definition"></a></dt>
<dd><p>Loops trough a list of data to download puts the URL(s) together and download the ZIP file(s). A list with the
name(s) of the downloaded file(s) is returned, if no files were downloaded “no_new_data” is returned.
Files are only downloaded, if the file or the content of the file is not already in the working directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type_to_download</strong> (<em>str</em>) – The type of the data to be downloaded.</p></li>
<li><p><strong>data_list_to_download</strong> (<em>list of str</em>) – A list that contains the part of the URL that is different for each data tile for all data tiles to be
downloaded.</p></li>
<li><p><strong>url_year</strong> (<em>str</em>) – Part of the URL for the download of the elevation data</p></li>
<li><p><strong>year</strong> (<em>int</em>) – The year of interest or one of the years ot interest.</p></li>
<li><p><strong>dem_n</strong> (<em>str</em>) – Part of the URL for the download of the elevation data</p></li>
<li><p><strong>year_list</strong> (<em>list of int</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – A list which contains the year of capture of each orthophoto to be downloaded.</p></li>
<li><p><strong>tile_number_list</strong> (<em>list of str</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – A list which contains the tile number of each orthophoto to be downloaded.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>zip_data_list</strong> – A list with the name(s) of of the downloaded file(s).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.delete_zip_files">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">delete_zip_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#delete_zip_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.delete_zip_files" title="Permalink to this definition"></a></dt>
<dd><p>Deletes one or more ZIP files. Before the function tries to delete a file, it checks whether
this file actually exists in the working directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>zip_files</strong> (<em>list of str</em>) – A list containing the names of the ZIP files to be deleted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_relevant_url_ids">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_relevant_url_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url_id_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_number_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#get_relevant_url_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.get_relevant_url_ids" title="Permalink to this definition"></a></dt>
<dd><p>Creates and returns three list that are needed for the download of the orthophotos and one list contacting the years
where orthophotos are available only for a part of the area of interest. To accomplish this, several dataframe
operations are performed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url_id_df</strong> (<em>pandas.core.frame.DataFrame</em>) – Dataframe with the the ID part of all URLs, the years and the tile numbers as columns.</p></li>
<li><p><strong>tile_number_df</strong> (<em>pandas.core.frame.DataFrame</em>) – Dataframe containing all relevant tile numbers.</p></li>
<li><p><strong>start_year</strong> (<em>int</em>) – First year or interest.</p></li>
<li><p><strong>end_year</strong> – Last year of interest.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>url_id_list</strong> (<em>list of str</em>) – A list which contains the ID part of the URL for each orthophoto downloaded.</p></li>
<li><p><strong>year_list</strong> (<em>list of int</em>) – A list which contains the year of capture of each orthophoto to be downloaded.</p></li>
<li><p><strong>tile_number_list</strong> (<em>list of str</em>) – A list which contains the tile number of each orthophoto to be downloaded.</p></li>
<li><p><strong>partly_data_list</strong> (<em>list of int</em>) – A list contacting the years where orthophotos are available only for a part of the area of interest.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.go_through_all_raster">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">go_through_all_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ending</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_cor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#go_through_all_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.go_through_all_raster" title="Permalink to this definition"></a></dt>
<dd><p>go through all raster of path including subfolders. Calling the function raster_correction (file_cor given)
or create_geo_file_dic (no file_cor given) to get the a dictionary with file end extent. For each subfolder
an instance of the class GeoFileHandler is created. All Objects of GeoFileHandler are returned as a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<em>str</em>) – directory with subfolders, witch contains all raster datasets</p></li>
<li><p><strong>ending</strong> (<em>str</em>) – file extension of the raster dataset (f.e. .tif)</p></li>
<li><p><strong>file_cor</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – path of a file for raster correction</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>geo_file_handler_list</strong> – list  with instances of GeoFileHandler for every subfolder</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of GeoFileHandler</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.intersect_geodfs">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">intersect_geodfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geodf_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geodf_2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#intersect_geodfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.intersect_geodfs" title="Permalink to this definition"></a></dt>
<dd><p>Intersects two geodataframes and returns the intersected geodataframe. If the coordinate reference system (crs) of
the geodataframes is different the first geodataframe is re-projected to the crs of the second geodataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geodf_1</strong> (<em>geopandas.geodataframe.GeoDataFrame</em>) – geodataframe 1</p></li>
<li><p><strong>geodf_2</strong> (<em>geopandas.geodataframe.GeoDataFrame</em>) – geodataframe 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>intersected_geodf</strong> – intersected geodataframe</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>geopandas.geodataframe.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.raster_correction">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">raster_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_raster</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_cor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ending</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:</span> <span class="pre">25832'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#raster_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.raster_correction" title="Permalink to this definition"></a></dt>
<dd><p>corrects every raster value by addition with a second raster (correction file).
Writes the result as a new GeoTiff by replacing the original file extension with _UTM_cor.tif</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<em>str</em>) – directory</p></li>
<li><p><strong>file_raster</strong> (<em>str</em>) – name of the input raster</p></li>
<li><p><strong>file_cor</strong> (<em>str</em>) – path of the correction-raster-file</p></li>
<li><p><strong>ending</strong> (<em>str</em>) – file extension of the input raster</p></li>
<li><p><strong>epsg</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=EPSG: 25832</em>) – EPSG-code of the input raster. just necessary if not EPSG: 25832</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of {str: array[int]} with the path as str and an array with the geometric extension with
the following values [minX, minY, maxX, maxY] for the calculated raster</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.set_elev_variables">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">set_elev_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#set_elev_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.set_elev_variables" title="Permalink to this definition"></a></dt>
<dd><p>Sets some variables that change depending on the specified year and returns them. However, if it is certain that
there is no data for the specified year “stop” is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>year</strong> (<em>int</em>) – The year of interest or one of the years ot interest.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>url_year</strong> (<em>str</em>) – Part of the URL for the download of the elevation data.</p></li>
<li><p><strong>dem_n</strong> (<em>str</em>) – Part of the URL for the download of the elevation data.</p></li>
<li><p><strong>elev_meta_file</strong> (<em>str</em>) – Name of the meta data shapefile for the elevation data.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.split_df">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">split_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/main.html#split_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.split_df" title="Permalink to this definition"></a></dt>
<dd><p>Splits a dataframe into two (based on the year) and returns a list that contains the two new dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.core.frame.DataFrame</em>) – The dataframe to be split.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>list_</strong> – A list containing the new dataframes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of pandas.core.frame.DataFrames</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="aux-documentation">
<h1>_aux documentation<a class="headerlink" href="#aux-documentation" title="Permalink to this headline"></a></h1>
<p>The functions of the auxiliary script.</p>
<span class="target" id="module-_aux"></span><dl class="py function">
<dt class="sig sig-object py" id="aux.create_url_id_file">
<span id="_aux.create_url_id_file"></span><span class="sig-prename descclassname"><span class="pre">_aux.</span></span><span class="sig-name descname"><span class="pre">create_url_id_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_requests</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_aux.html#create_url_id_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aux.create_url_id_file" title="Permalink to this definition"></a></dt>
<dd><p>This function creates CSV files with the id part ot the URL, the year of data acquisition and the tile number or
only the URL (if it is a key error URL) as columns.To achieve this, first the framework function is called to get
the head content dispositions or in case of a key error the URL. Then the information is filtered and the CSV files
are generated. Finally, the content of all non-key error CSV files is merged into one file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>int</em>) – The number of the id part of the first URL to be checked.</p></li>
<li><p><strong>stop</strong> (<em>int</em>) – The number of the id part of the last URL to be checked.</p></li>
<li><p><strong>out_path</strong> (<em>str</em>) – Path to the folder where the output should be stored.</p></li>
<li><p><strong>number_of_requests</strong> (<em>int</em>) – Maximum number of concurrent requests (if the performance is not important, the default value should be kept).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path_name</strong> – The path to the URL id file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aux.framework_requests">
<span id="_aux.framework_requests"></span><em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">_aux.</span></span><span class="sig-name descname"><span class="pre">framework_requests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_aux.html#framework_requests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aux.framework_requests" title="Permalink to this definition"></a></dt>
<dd><p>In this function first the framework for the request function is set. Then the request function is called repeatedly
to get the head content dispositions of the URLs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>int</em>) – The number of the id part of the first URL to be checked.</p></li>
<li><p><strong>stop</strong> (<em>int</em>) – The number of the id part of the last URL to be checked.</p></li>
<li><p><strong>list_of_ids</strong> (<em>list of str</em><em> or </em><em>None</em>) – This Parameter should not be changed. It only plays a role in the additional checking of the key error URLs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>hcd__url_list</strong> (<em>list of str</em>) – A list with the head content dispositions plus the corresponding URLs.</p></li>
<li><p><strong>url_key_error_list</strong> (<em>list of str</em>) – A list with all URLs where a key error occurred.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aux.get_hcd">
<span id="_aux.get_hcd"></span><em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">_aux.</span></span><span class="sig-name descname"><span class="pre">get_hcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_aux.html#get_hcd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aux.get_hcd" title="Permalink to this definition"></a></dt>
<dd><p>The function requests the head content disposition from an URL and returns it together with the URL if an key error
occurs only the url is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session</strong> (<em>aiohttp.client.ClientSession</em>) – the client session</p></li>
<li><p><strong>url</strong> (<em>str</em>) – The URL from which the header information should be read.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>head_content_disposition + “__” + url</strong> (<em>srt</em>) – The head content disposition plus the corresponding URL as one string.</p></li>
<li><p><strong>url</strong> (<em>str</em>) – the URL</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to Geo_419b’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Fabian Schreiter and Jonathan Frank.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>